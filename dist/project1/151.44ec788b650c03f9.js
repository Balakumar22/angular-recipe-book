"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[151],{5151:(D,l,p)=>{p.r(l),p.d(l,{RecipesModule:()=>L});var c=p(433),s=p(1196),h=p(5698),_=p(4004),e=p(8256),C=p(7473);let Z=(()=>{class i{constructor(t,n){this.authService=t,this.router=n}canActivate(t,n){return this.authService.user.pipe((0,h.q)(1),(0,_.U)(r=>!!r||this.router.createUrlTree(["/authenticate"])))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(C.e),e.LFG(s.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var b=p(3649),d=p(8174);let g=(()=>{class i{constructor(t,n){this.dataStorageService=t,this.recipesService=n}resolve(t,n){const r=this.recipesService.getRecipies();return 0===r.length?this.dataStorageService.fetchRecipes():r}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(b.Z),e.LFG(d.v))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var x=p(8971);let R=(()=>{class i{constructor(){this.response=new e.vpe}onConfirm(){this.response.emit(!0)}onCancel(){this.response.emit(!1)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirm-box"]],inputs:{message:"message"},outputs:{response:"response"},decls:9,vars:1,consts:[[1,"backdrop"],[1,"confirm-box"],[1,"confirm-box-action"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return n.onConfirm()}),e._uU(6,"Yes"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.onCancel()}),e._uU(8,"No"),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(n.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:50}.confirm-box[_ngcontent-%COMP%]{position:fixed;top:2%;left:50%;transform:translate(-50%,-2%);width:50vw;padding:16px;background:#fff;box-shadow:2px 2px 2px 2px #00000040;z-index:100}.confirm-box-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:20px}"]}),i})();var u=p(6895);function T(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-confirm-box",12),e.NdJ("response",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.confirmBoxHandler(r))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("message","Are you sure do you want to delete "+t.recipe.name)}}function A(i,o){if(1&i&&(e.TgZ(0,"li",13),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.AsE(" ",t.name," - ",t.amount," ")}}const S=function(){return["edit"]};let U=(()=>{class i{constructor(t,n,r){this.recipesService=t,this.route=n,this.router=r,this.open=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.recipe=this.recipesService.getRecipe(this.id)})}onAddToShoppingList(){this.recipesService.AddIngredientsToShoppingList(this.recipe.ingredients)}onDeleteRecipe(){this.open=!0}confirmBoxHandler(t){t?(this.recipesService.DeleteRecipe(this.id),this.router.navigate(["../"],{relativeTo:this.route})):this.open=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.v),e.Y36(s.gz),e.Y36(s.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-detail"]],decls:31,vars:7,consts:[[3,"message","response",4,"ngIf"],[1,"row"],[1,"col-xs-12"],["alt","",1,"img-responsive",3,"src"],["appDropDown","",1,"btn-group"],[1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[2,"cursor","pointer",3,"routerLink"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[3,"message","response"],[1,"list-group-item"]],template:function(t,n){1&t&&(e.YNc(0,T,1,1,"app-confirm-box",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"h1"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",2)(10,"div",4)(11,"button",5),e._uU(12," Manage "),e._UZ(13,"span",6),e.qZA(),e.TgZ(14,"ul",7)(15,"li",8),e.NdJ("click",function(){return n.onAddToShoppingList()}),e.TgZ(16,"a"),e._uU(17,"To Shopping List"),e.qZA()(),e.TgZ(18,"li",9)(19,"a"),e._uU(20,"Edit Recipe"),e.qZA()(),e.TgZ(21,"li",8),e.NdJ("click",function(){return n.onDeleteRecipe()}),e.TgZ(22,"a"),e._uU(23,"Delete Recipe"),e.qZA()()()()()(),e.TgZ(24,"div",1)(25,"div",2),e._uU(26),e.qZA()(),e.TgZ(27,"div",1)(28,"div",2)(29,"ul",10),e.YNc(30,A,2,2,"li",11),e.qZA()()()),2&t&&(e.Q6J("ngIf",n.open),e.xp6(3),e.s9C("src",n.recipe.imagePath,e.LSH),e.xp6(4),e.Oqu(n.recipe.name),e.xp6(11),e.Q6J("routerLink",e.DdM(6,S)),e.xp6(8),e.Oqu(n.recipe.description),e.xp6(4),e.Q6J("ngForOf",n.recipe.ingredients))},dependencies:[s.rH,x.l,R,u.sg,u.O5]}),i})();function y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"input",21),e.qZA(),e.TgZ(3,"div",22),e._UZ(4,"input",23),e.qZA(),e.TgZ(5,"div",22)(6,"button",5),e.NdJ("click",function(){const a=e.CHM(t).index,m=e.oxw();return e.KtG(m.onDeleteIngredient(a))}),e._uU(7," X "),e.qZA()()()}2&i&&e.Q6J("formGroupName",o.index)}let f=(()=>{class i{constructor(t,n,r){this.recipesService=t,this.route=n,this.router=r,this.editMode=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.editMode=null!=t.id,this.initForm()})}setUpIngredient(t=null,n=null){return new c.cw({name:new c.NI(t,c.kI.required),amount:new c.NI(n,[c.kI.required,c.kI.pattern(/^[0-9]+[0-9]*$/)])})}initForm(){let t="",n="",r="",a=new c.Oe([]);if(this.editMode){const m=this.recipesService.getRecipe(this.id);t=m.name,n=m.imagePath,r=m.description,m.ingredients&&m.ingredients.forEach(v=>{a.push(this.setUpIngredient(v.name,v.amount))})}this.form=new c.cw({name:new c.NI(t,c.kI.required),imagePath:new c.NI(n,c.kI.required),description:new c.NI(r,c.kI.required),ingredients:a})}onSubmit(){this.editMode?this.recipesService.UpdateRecipe(this.id,this.form.value):this.recipesService.AddRecipe(this.form.value),this.onCancel()}get ingredients(){return this.form.get("ingredients").controls}onAddIngredient(){this.form.get("ingredients").push(this.setUpIngredient())}onDeleteIngredient(t){this.form.get("ingredients").removeAt(t)}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.v),e.Y36(s.gz),e.Y36(s.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-edit"]],decls:41,vars:4,consts:[[1,"row"],[1,"col-xs-12"],[3,"formGroup","ngSubmit"],[1,"row","mb-10"],["type","submit",1,"btn","btn-success","mr-10",3,"disabled"],[1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","recipe-name"],["id","recipe-name","type","text","formControlName","name",1,"form-control"],["for","recipe-image"],["id","recipe-image","type","text","formControlName","imagePath",1,"form-control"],["imagePath",""],["alt","",1,"img-responsive",3,"src"],["for","recipe-description"],["id","recipe-description","type","text","rows","6","formControlName","description",1,"form-control"],["formArrayName","ingredients",1,"col-xs-12"],["for","recipe-ingredient"],["id","recipe-ingredient","class","row mt-10",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success","mt-5",3,"click"],["id","recipe-ingredient",1,"row","mt-10",3,"formGroupName"],[1,"col-xs-8"],["type","text","formControlName","name",1,"form-control"],[1,"col-xs-2"],["formControlName","amount","type","number",1,"form-control"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",3)(4,"div",1)(5,"button",4),e._uU(6," Save "),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.onCancel()}),e._uU(8,"Cancel"),e.qZA()()(),e.TgZ(9,"div",0)(10,"div",1)(11,"div",6)(12,"label",7),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",8),e.qZA()()(),e.TgZ(15,"div",0)(16,"div",1)(17,"div",6)(18,"label",9),e._uU(19,"Image"),e.qZA(),e._UZ(20,"input",10,11),e.qZA()()(),e.TgZ(22,"div",0)(23,"div",1),e._UZ(24,"img",12),e.qZA()(),e.TgZ(25,"div",0)(26,"div",1)(27,"div",6)(28,"label",13),e._uU(29,"Description"),e.qZA(),e._UZ(30,"textarea",14),e.qZA()()(),e.TgZ(31,"div",0)(32,"div",15)(33,"label",16),e._uU(34,"Ingredients"),e.qZA(),e.YNc(35,y,8,1,"div",17),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"div",0)(38,"div",1)(39,"button",18),e.NdJ("click",function(){return n.onAddIngredient()}),e._uU(40," Add Ingredient "),e.qZA()()()()()()()),2&t){const r=e.MAs(21);e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("disabled",!n.form.valid),e.xp6(19),e.Q6J("src",r.value,e.LSH),e.xp6(11),e.Q6J("ngForOf",n.ingredients)}},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,c.x0,c.CE,u.sg],styles:[".mt-5[_ngcontent-%COMP%]{margin-top:5px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.mb-5[_ngcontent-%COMP%]{margin-bottom:5px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.mr-5[_ngcontent-%COMP%]{margin-right:5px}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.ml-5[_ngcontent-%COMP%]{margin-left:5px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid #ff4444}"]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Please Select the Recipe"),e.qZA())}}),i})();const q=function(i){return[i]};let I=(()=>{class i{constructor(t,n,r){this.recipesService=t,this.router=n,this.route=r}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.v),e.Y36(s.F0),e.Y36(s.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",id:"id"},decls:8,vars:7,consts:[["routerLinkActive","active",1,"clearfix","list-group-item",3,"routerLink"],[1,"pull-left"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"pull-right"],[1,"img-responsive",2,"max-height","50px",3,"src","alt"]],template:function(t,n){1&t&&(e.TgZ(0,"a",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA()(),e.TgZ(6,"span",4),e._UZ(7,"img",5),e.qZA()()),2&t&&(e.Q6J("routerLink",e.VKq(5,q,n.id)),e.xp6(3),e.Oqu(n.recipe.name),e.xp6(2),e.Oqu(n.recipe.description),e.xp6(2),e.Q6J("src",n.recipe.imagePath,e.LSH)("alt",n.recipe.name))},dependencies:[s.rH,s.Od]}),i})();function F(i,o){if(1&i&&e._UZ(0,"app-recipe-item",4),2&i){const n=o.index;e.Q6J("recipe",o.$implicit)("id",n)}}const O=function(){return["new"]};let k=(()=>{class i{constructor(t){this.recipesService=t}ngOnInit(){this.recipeChangedSubscription=this.recipesService.recipesChanged.subscribe(t=>{this.recipes=t}),this.recipes=this.recipesService.getRecipies()}ngOnDestroy(){this.recipeChangedSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-list"]],decls:8,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[1,"btn","btn-success",3,"routerLink"],[3,"recipe","id",4,"ngFor","ngForOf"],[3,"recipe","id"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e._uU(3,"New Recipe"),e.qZA()()(),e._UZ(4,"hr"),e.TgZ(5,"div",0)(6,"div",1),e.YNc(7,F,1,2,"app-recipe-item",3),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(2,O)),e.xp6(5),e.Q6J("ngForOf",n.recipes))},dependencies:[s.rH,u.sg,I]}),i})();const N=[{path:"",component:(()=>{class i{constructor(t){this.recipesService=t}ngOnInit(){this.selectedSub=this.recipesService.recipeSelected.subscribe(t=>{this.selectedRecipe=t})}ngOnDestroy(){this.selectedSub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-recipe-list"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[s.lC,k]}),i})(),canActivate:[Z],children:[{path:"",component:w},{path:"new",component:f},{path:":id",component:U,resolve:[g]},{path:":id/edit",component:f,resolve:[g]}]}];let M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.Bz.forChild(N),s.Bz]}),i})();var J=p(4466);let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.Bz,c.UX,M,J.m]}),i})()}}]);